<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no" />
<title>Swiper点击图片相册预览</title>
<link href="static/swiper-4.1.0.min.css" rel="stylesheet" />
<link rel="stylesheet" type="text/css" href="static/180516_imgPreview.css"/>
</head>
<body>

<ul id="comment-list">
  <li class="list">
    <div class="face"><img src="http://www.swiper.com.cn/demo/meituan1/uploads/face.png"></div>
    <div class="guest">
      <div class="info">
        <h4 class="name">不是只有你许诺<span class="level"><img src="http://www.swiper.com.cn/demo/meituan1/img/level4.png"></span></h4>
        <div class="date">2018-4-15</div>
      </div>
      <div class="star"><img src="http://www.swiper.com.cn/demo/meituan1/img/star.png"></div>
      <p class="detail">以前去过这个店吧，不过不是在这，是另外一个分店，店里装修分格都可以，下单也方便，是立点立上的，不像其他地方是自己去挑选，菜品都可以</p>
      <div class="thumb" thumblist="list1">
        <img src="http://www.swiper.com.cn/demo/meituan1/uploads/s1_1.jpg">
        <img src="http://www.swiper.com.cn/demo/meituan1/uploads/s1_2.jpg">
        <img src="http://www.swiper.com.cn/demo/meituan1/uploads/s1_3.jpg">
        <img src="http://www.swiper.com.cn/demo/meituan1/uploads/s1_4.jpg">
      </div>
    </div>
    
  </li>
</ul>

<!-- Swiper -->
<div class="swiper-container" id="img-preview">
  <div class="swiper-wrapper"></div>
  <div class="swiper-pagination"></div>
</div>

<script src="static/swiper-4.1.0.min.js"></script>
<script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
<script type="text/javascript">
imgList1 = ["http://www.swiper.com.cn/demo/meituan1/uploads/b1_1.jpg","http://www.swiper.com.cn/demo/meituan1/uploads/b1_2.jpg","http://www.swiper.com.cn/demo/meituan1/uploads/b1_3.jpg","http://www.swiper.com.cn/demo/meituan1/uploads/b1_4.jpg","http://www.swiper.com.cn/demo/meituan1/uploads/b1_5.jpg","http://www.swiper.com.cn/demo/meituan1/uploads/b1_6.jpg","http://www.swiper.com.cn/demo/meituan1/uploads/b1_7.jpg","http://www.swiper.com.cn/demo/meituan1/uploads/b1_8.jpg","http://www.swiper.com.cn/demo/meituan1/uploads/b1_9.jpg"]



imgPreview(imgList1,'.thumb img');

function imgPreview(imgList,imgEls){
  var swiper = new Swiper('.swiper-container',{
    zoom:true,
    width: window.innerWidth,
    virtual: true,
    spaceBetween:20,
    pagination: {
      el: '.swiper-pagination',
      type: 'fraction',
    },
    on:{
      click: function(){
        $('#img-preview').fadeOut('fast');
        this.virtual.slides.length = 0;
        this.virtual.cache = []; 
        swiperStatus = false;
       },
    },
  });
  
  $(imgEls).click(function(){
    clickIndex = $(this).index();
  
    for(i=0;i<imgList.length;i++){
      swiper.virtual.appendSlide('<div class="swiper-zoom-container"><img src="'+imgList[i]+'" /></div>');
    }
    swiper.slideTo(clickIndex);
    $('#img-preview').fadeIn('fast');
    swiperStatus = true;    
  });
}

</script>

</body>
</html>