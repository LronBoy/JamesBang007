<!DOCTYPE html>
<html xmlns:wb="http://open.weibo.com/wb">
<head>
<meta charset="UTF-8">
<title>JS SDK公开方法</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no" />
</head>
<body>
<!--
背包驴
微连接 - 连接网站

当前域名：beibaolv.com.cn
App Key: 1409564755
App Secret: 


James邦的博客
微连接 - 网页应用
App Key: 731793377
应用地址：http://jmsbang.com
授权回调页：http://jmsbang.com
取消授权回调页：http://jmsbang.com

乐游四川
微连接 - 客户端
App Key: 3138686911
授权回调页：http://www.ysichuan.com
取消授权回调页：http://www.ysichuan.com

-->
JS SDK for OAuth2.0
http://open.weibo.com/wiki/index.php/Weibo-JS_V2



引用JS SDK文件
<script src="http://tjs.sjs.sinajs.cn/open/api/js/wb.js?appkey=3138686911&debug=true" type="text/javascript" charset="utf-8"></script>



<h2>JS SDK公开方法。</h2>

<br><br>
WB2.login(callback)
微博登录认证功能。

<script type="text/javascript">

WB2.login(function() {
    //callback function    
    console.log("登录后的回调函数");
});

</script>



<h2>JS组件</h2>
JS 组件的使用方法及示例。JS 组件有WBML、和HTML+JS两种部署方法。

<br><br>
微博登录按钮
第三方与微博进行连接登录的按钮，可实现登录与退出功能。

<br><br>HTML+JS部署<br><br>

<div id="wb_connect_btn"></div>
<script type="text/javascript">
WB2.anyWhere(function (W) {
    W.widget.connectButton({
        id: "wb_connect_btn",
        type: '3,2',
        callback: {
            login: function (o) { //登录后的回调函数
                console.log("login: " + o.screen_name)
            },
            logout: function () { //退出后的回调函数
                console.log('logout');
            }
        }
    });
});
</script>


<br><br>WBML部署<br><br>

<wb:login-button type="3,2" onlogin="login" onlogout="logout"></wb:login-button>


</body>
</html>